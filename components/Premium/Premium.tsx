import React, {useEffect, useState} from 'react';
import axios from "axios";
import {isMobile} from 'react-device-detect';
import {CarouselProvider, Slide, Slider} from 'pure-react-carousel';
import {PostInterface} from '../../interfaces';
import Item from '../Item/Item';
import 'pure-react-carousel/dist/react-carousel.es.css';
import classes from './../../styles/Home.module.scss'

import {orderBy} from "lodash";

const getPremiums = async () => {
    try {
        const getPremium = await axios.get(`${process.env.NEXT_PUBLIC_API_URL}/post?category=5`)
        const premium = orderBy(getPremium.data.content, ['createdAt'], ['desc'])
        return premium
    } catch (e) {
        console.log(e)
        return []
    }
}

const posts = [
    {
        body: "–ò–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–µ –∑–∞–Ω—è—Ç–∏—è –æ–Ω–ª–∞–π–Ω –¥–ª—è –¥–µ—Ç–µ–π –∏ –≤–∑—Ä–æ—Å–ª—ã—Ö.\n\n–î–ª—è –≤–∞—Å:\n-üíé–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —É—Ä–æ–≤–Ω—è \n-üíé–ø–æ—Å—Ç–∞–Ω–æ–≤–∫–∞ —Ü–µ–ª–∏\n-üíé–∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω–∞—è –ø—Ä–æ–≥—Ä–∞–º–º–∞ –∏ –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∫—É—Ä—Å–∞\n-üíé–ø–æ–º–æ—â—å —Å –¥–æ–º–∞—à–Ω–∏–º–∏ –∑–∞–¥–∞–Ω–∏—è–º–∏ \n-üíé—Ä–∞–∑–≤–∏—Ç–∏–µ —Ä–∞–∑–≥–æ–≤–æ—Ä–Ω–æ–π —Ä–µ—á–∏\n-üíé—Ä–µ–∑—É–ª—å—Ç–∞—Ç\n- üíé–ø–æ–º–æ—â—å –≤ –ø–æ–¥–¥–µ—Ä–∂–∞–Ω–∏–∏ —É—Ä–æ–≤–Ω—è \n\n–ü–µ—Ä–≤–∞—è –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—è 15 –º–∏–Ω. –±–µ—Å–ø–ª–∞—Ç–Ω–æ. üí°\n\n#iSpeaker",
        categoryId: 3,
        createdAt: "2022-05-27T07:38:51.062Z",
        id: 800,
        images: "https://chamala.tatar/uploads/1653637130801-1653637129701.jpg",
        preview: "https://chamala.tatar/uploads/1653637130801-1653637129701.jpg",
        price: 700,
        slug: "individualnye-zanyatiya-po-anglijskomu-yazyku-70",
        telegram: "ispeaker_innopolis",
        tgId: 264222567,
        title: "–ò–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–µ –∑–∞–Ω—è—Ç–∏—è –ø–æ –∞–Ω–≥–ª–∏–π—Å–∫–æ–º—É —è–∑—ã–∫—É.",
        updatedAt: "2022-06-03T14:14:24.808Z",
        vector: "'15':38 'ispeak':41 '–∞–Ω–≥–ª–∏–π—Å–∫':4 '–±–µ—Å–ø–ª–∞—Ç–Ω':40 '–≤–∑—Ä–æ—Å–ª':12 '–¥–µ—Ç':10 '–¥–ª–∏—Ç–µ–ª—å–Ω':22 '–¥–æ–º–∞—à–Ω':26 '–∑–∞–¥–∞–Ω':27 '–∑–∞–Ω—è—Ç':2,7 '–∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω':1,6,19 '–∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü':37 '–∫—É—Ä—Å':23 '–º–∏–Ω':39 '–æ–Ω–ª–∞–π–Ω':8 '–æ–ø—Ä–µ–¥–µ–ª–µ–Ω':15 '–ø–µ—Ä–≤':36 '–ø–æ–¥–¥–µ—Ä–∂–∞–Ω':34 '–ø–æ–º–æ—â':24,32 '–ø–æ—Å—Ç–∞–Ω–æ–≤–∫':17 '–ø—Ä–æ–≥—Ä–∞–º–º':20 '—Ä–∞–∑–≤–∏—Ç':28 '—Ä–∞–∑–≥–æ–≤–æ—Ä–Ω':29 '—Ä–µ–∑—É–ª—å—Ç–∞—Ç':31 '—Ä–µ—á':30 '—É—Ä–æ–≤–Ω':16,35 '—Ü–µ–ª':18 '—è–∑—ã–∫':5"
    },
    {
        body: "‚úÖ 1.–ú–∞—Å—Å–∞–∂:üíÜüèª‚Äç‚ôÄÔ∏èüíÜüèº‚Äç‚ôÇÔ∏è\nüîÜ–¢–æ—á–µ—á–Ω—ã–π\nüîÜ–®–∏–∞—Ü—É\nüîÜ–†—ç–π–∫–∏ \nüîÜ–ë–∞–Ω–æ—á–Ω—ã–π \n ‚ùóÔ∏è–í—ã–ø—Ä—è–º–ª–µ–Ω–∏–µ, —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ\n –ø–æ–∑–≤–æ–Ω–æ—á–Ω–∏–∫–∞ –≤—Ö–æ–¥–∏—Ç\n–≤ –∫–∞–∂–¥—ã–π —Å–µ–∞–Ω—Å\n\n    ‚úçüèª–°–µ–∞–Ω—Å—ã –ø—Ä–æ–≤–æ–∂—É\n        –µ–∂–µ–¥–Ω–µ–≤–Ω–æ\n–ø–æ –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–æ–π –∑–∞–ø–∏—Å–∏\n\n‚úÖ 2. –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ —Å–µ–∞–Ω—Å—ã\n        üôÜüèª‚Äç‚ôÇÔ∏è üôÜüèº‚Äç‚ôÄÔ∏è\n –í –Ω–∏—Ö –≤—Ö–æ–¥—è—Ç:\nüîÜ–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–π –∫—É—Ä—Å\n–ø–æ —Ä–∞–∑–≤–∏—Ç–∏—é —Å–æ–∑–Ω–∞—Ç–µ–ª—å–Ω–æ–≥–æ\n–≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–≥–æ –≥–æ–ª–æ—Å–∞\nüîÜ–†–µ—Ñ–ª–µ–∫—Ç–æ—Ä–Ω–∞—è –º–∞–Ω—É–∞–ª—å–Ω–∞—è –≥–∏–º–Ω–∞—Å—Ç–∏–∫–∞\nüîÜ–¢–∞–π—Ü–∑–∏—Ü—É–∞–Ω—å\n‚è∞–î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å\n—Å–µ–∞–Ω—Å–∞:1,5-2—á\n‚ùóÔ∏è–ü—Ä–∏ —Å–µ–±–µ –∏–º–µ—Ç—å\n–±—É—Ç—ã–ª–æ—á–∫—É —Å –≤–æ–¥–æ–π\n–∏ –ø–æ–ª–æ—Ç–µ–Ω—Ü–µ —Å—Ä–µ–¥–Ω–∏—Ö\n—Ä–∞–∑–º–µ—Ä–æ–≤ (–ø—Ä–∏–º–µ—Ä–Ω–æ 35√ó70)\n\n‚úÖ 3.–¢–µ–æ—Ä–µ—Ç–∏–∫–æ-–ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–π\n    –∫—É—Ä—Å –º–∞—Å—Å–∞–∂–∞üíÜüèº‚Äç‚ôÄÔ∏èüôÜüèª‚Äç‚ôÇ\n  –ü—Ä–æ–≥—Ä–∞–º–º–∞ –∫—É—Ä—Å–∞ –≤–∫–ª—é—á–∞–µ—Ç\n–∏–∑—É—á–µ–Ω–∏–µ —Ç–µ—Ö–Ω–∏–∫ –º–∞—Å—Å–∞–∂–∞:\nüîÜ–¢–æ—á–µ—á–Ω–æ–≥–æ \nüîÜ–®–∏–∞—Ü—É \nüîÜ–†—ç–π–∫–∏ \nüîÜ–ë–∞–Ω–æ—á–Ω–æ–≥–æ\n‚è∞–î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å\n—Å–µ–∞–Ω—Å–∞:1,5-2—á\n     –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã—Ö\n  —Å–µ–∞–Ω—Å–æ–≤ –±—É–¥–µ—Ç –∑–∞–≤–∏—Å–µ—Ç—å\n–æ—Ç –ø—Ä–∞–∫—Ç–∏–∫—É—é—â–µ–≥–æ.\n‚ùóÔ∏è–ú–æ–¥–µ–ª–µ–π –¥–ª—è –ø—Ä–æ–≤–µ–¥–µ–Ω–∏—è\n —Å–µ–∞–Ω—Å–æ–≤ –ø–æ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏\n–ø—Ä–∏–≤–æ–¥–∏—Ç–µ —Å —Å–æ–±–æ–π.\n –°–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤ –Ω–µ –≤—ã–¥–∞—é,\n   –º–æ–≥—É –æ—Å—Ç–∞–≤–∏—Ç—å –∞–≤—Ç–æ–≥—Ä–∞—Ñ üòé\n\n    –ê–¥—Ä–µ—Å: –°–ø–æ—Ä—Ç–∏–≤–Ω–∞—è 128\n    ZIMALETTO –ø—Ä–∞–≤–∞—è –¥–≤–µ—Ä—å\n    ‚ú®–ú–∞—Å—Å–∞–∂–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç‚ú®\n            (–ò–û–°)\nhttps://t.me/massageinnopolis",
        categoryId: 3,
        createdAt: "2022-05-13T09:10:53.301Z",
        id: 581,
        images: "https://firebasestorage.googleapis.com/v0/b/classified-b8322.appspot.com/o/20220417_171001.jpg?alt=media&token=9dd3708b-a099-4e9f-a095-d25f16ca5673",
        preview: "https://firebasestorage.googleapis.com/v0/b/classified-b8322.appspot.com/o/20220417_171001.jpg?alt=media&token=9dd3708b-a099-4e9f-a095-d25f16ca5673",
        price: 1500,
        slug: "predlagaemye-procedury-94",
        telegram: "NEIJO",
        tgId: 744555501,
        title: "‚ùáÔ∏è–ü—Ä–µ–¥–ª–∞–≥–∞–µ–º—ã–µ –ø—Ä–æ—Ü–µ–¥—É—Ä—ã:",
        updatedAt: "2022-06-03T14:14:29.613Z",
        vector: "'-2':43,78 '/massageinnopolis':113 '1':3,41,76 '128':104 '2':22 '3':58 '35':56 '5':42,77 '70':57 't.me':112 't.me/massageinnopolis':111 'zimaletto':105 '–∞–≤—Ç–æ–≥—Ä–∞—Ñ':101 '–∞–¥—Ä–µ—Å':102 '–±–∞–Ω–æ—á–Ω':8,73 '–±—É—Ç—ã–ª–æ—á–∫':48 '–≤–∫–ª—é—á–∞':66 '–≤–Ω—É—Ç—Ä–µ–Ω':33 '–≤–æ–¥':50 '–≤–æ–∑–º–æ–∂–Ω':92 '–≤—Ö–æ–¥':12,27 '–≤—ã–¥–∞':98 '–≤—ã–ø—Ä—è–º–ª–µ–Ω':9 '–≥–∏–º–Ω–∞—Å—Ç–∏–∫':37 '–≥–æ–ª–æ—Å':34 '–¥–≤–µ—Ä':107 '–¥–ª–∏—Ç–µ–ª—å–Ω':39,74 '–µ–∂–µ–¥–Ω–µ–≤–Ω':18 '–∑–∞–≤–∏—Å–µ—Ç':84 '–∑–∞–ø–∏—Å':21 '–∏–∑—É—á–µ–Ω':67 '–∏–º–µ—Ç':47 '–∏–æ—Å':110 '–∫–∞–±–∏–Ω–µ—Ç':109 '–∫–∞–∂–¥':14 '–∫–æ–ª–∏—á–µ—Å—Ç–≤':80 '–∫—É—Ä—Å':29,62,65 '–º–∞–Ω—É–∞–ª—å–Ω':36 '–º–∞—Å—Å–∞–∂':4,63,69 '–º–∞—Å—Å–∞–∂–Ω':108 '–º–æ–≥':99 '–º–æ–¥–µ–ª':87 '–Ω–µ–æ–±—Ö–æ–¥–∏–º':81 '–æ—Å—Ç–∞–≤':100 '–ø–æ–∑–≤–æ–Ω–æ—á–Ω–∏–∫':11 '–ø–æ–ª–æ—Ç–µ–Ω—Ü':52 '–ø—Ä–∞–≤':106 '–ø—Ä–∞–∫—Ç–∏–∫':86 '–ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫':23,28,61 '–ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω':20 '–ø—Ä–µ–¥–ª–∞–≥–∞':1 '–ø—Ä–∏–≤–æ–¥':93 '–ø—Ä–∏–º–µ—Ä–Ω':55 '–ø—Ä–æ–≤–µ–¥–µ–Ω':89 '–ø—Ä–æ–≤–æ–∂':17 '–ø—Ä–æ–≥—Ä–∞–º–º':64 '–ø—Ä–æ—Ü–µ–¥—É—Ä':2 '—Ä–∞–∑–≤–∏—Ç':31 '—Ä–∞–∑–¥–µ–ª–µ–Ω':10 '—Ä–∞–∑–º–µ—Ä':54 '—Ä–µ—Ñ–ª–µ–∫—Ç–æ—Ä–Ω':35 '—Ä—ç–π–∫':7,72 '—Å–µ–∞–Ω—Å':15,16,24,40,75,82,90 '—Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç':96 '—Å–æ–±':95 '—Å–æ–∑–Ω–∞—Ç–µ–ª—å–Ω':32 '—Å–ø–æ—Ä—Ç–∏–≤–Ω':103 '—Å—Ä–µ–¥–Ω':53 '—Ç–∞–π—Ü–∑–∏—Ü—É–∞–Ω':38 '—Ç–µ–æ—Ä–µ—Ç–∏–∫':60 '—Ç–µ–æ—Ä–µ—Ç–∏–∫–æ-–ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫':59 '—Ç–µ—Ö–Ω–∏–∫':68 '—Ç–æ—á–µ—á–Ω':5,70 '—á':44,79 '—à–∏–∞—Ü':6,71"
    },
    {
        body: "—Ä–∞–±–æ—Ç–∞–µ—Ç c HDMI, VGA\n—Å–≤–µ—Ç–æ–≤–æ–π –ø–æ—Ç–æ–∫ 2500 ANSI –ª–º\n–∫–æ–Ω—Ç—Ä–∞—Å—Ç–Ω–æ—Å—Ç—å 4000 : 1\n\n",
        categoryId: 3,
        createdAt: "2022-05-31T15:11:07.328Z",
        id: 917,
        images: "https://chamala.tatar/uploads/1654009760423-1654009760398.jpg",
        preview: "https://chamala.tatar/uploads/1654009760423-1654009760398.jpg",
        price: 400,
        slug: "arenda-proektora-benq-ms502-4",
        telegram: "maratfaizer",
        tgId: 71233480,
        title: "–ê—Ä–µ–Ω–¥–∞ –ü—Ä–æ–µ–∫—Ç–æ—Ä–∞ BenQ MS502",
        updatedAt: "2022-06-03T14:14:14.235Z",
        vector: "'1':16 '2500':11 '4000':15 'ansi':12 'benq':3 'c':6 'hdmi':7 'ms502':4 'vga':8 '–∞—Ä–µ–Ω–¥':1 '–∫–æ–Ω—Ç—Ä–∞—Å—Ç–Ω':14 '–ª–º':13 '–ø–æ—Ç–æ–∫':10 '–ø—Ä–æ–µ–∫—Ç–æ—Ä':2 '—Ä–∞–±–æ—Ç–∞':5 '—Å–≤–µ—Ç–æ–≤':9"
    },
    {
        body: "–ü–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–∏ –≤ –Ω–∞—à–µ–º —á–∞—Ç–µ https://t.me/ult_ramen",
        categoryId: 3,
        createdAt: "2022-05-18T12:14:08.253Z",
        id: 651,
        images: "https://firebasestorage.googleapis.com/v0/b/classified-b8322.appspot.com/o/1652876046486?alt=media&token=543e4d1c-c704-4d50-bb4f-e8242cd08b24",
        preview: "https://firebasestorage.googleapis.com/v0/b/classified-b8322.appspot.com/o/1652876046486?alt=media&token=543e4d1c-c704-4d50-bb4f-e8242cd08b24",
        price: 0,
        slug: "novoe-menyu-v-ultramen-66",
        telegram: "TimurYussupov",
        tgId: 55080988,
        title: "–ù–æ–≤–æ–µ –º–µ–Ω—é –≤ ultramen!",
        updatedAt: "2022-06-03T14:14:21.062Z",
        vector: "'/ult_ramen':11 't.me':10 't.me/ult_ramen':9 'ultramen':4 '–º–µ–Ω':2 '–Ω–∞—à':7 '–Ω–æ–≤':1 '–ø–æ–¥—Ä–æ–±–Ω':5 '—á–∞—Ç':8",
    }
]
const Premium = () => {
    const [premium, setPremium] = useState<PostInterface[]>(posts)

    // useEffect(() => {
    //     getPremiums().then((res) => setPremium(res))
    // }, [])

    return (
        <div>
            <h2 className={classes.title}>–ù–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç—å</h2>
            <CarouselProvider
                naturalSlideWidth={200}
                naturalSlideHeight={270}
                totalSlides={premium.length}
                visibleSlides={isMobile ? 2 : 4}
                isPlaying={true}
                interval={5000}
                infinite={true}
                hasMasterSpinner={premium.length === 0}
            >
                <Slider>
                    {premium.map((item, index) => {
                        return (
                            <Slide key={index} index={index} tabIndex={index}>
                                <div style={{margin: 4}}>
                                    <Item post={item}/>
                                </div>
                            </Slide>
                        )
                    })}
                </Slider>
            </CarouselProvider>
        </div>
    );
};

export default Premium;